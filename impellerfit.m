function [Y,Xf,Af] = impellerfit(X,~,~)


%%This function is a sample of the ANN fitting model for subsystem 1, which
% can be replaced by users according to their own datasets.
% For those who haven't install MATLAB Neural Fitting app, this function
% used the function generated by genFunction from the ANN built by the
% author.

X = X';

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.04;0.003;-0.5;-2.5;-2;0.002;26000];
x1_step1.gain = [58.8674913079942;20.6994137325748;4.46187364332131;2.00391389432485;4.03149606299213;71.7086834733894;0.000286861732644865];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.8125148148304923712;0.077655053430445000751;0.39764898102036178029;-0.17597483513665632127;0.3821961934025951968;-0.081053513445773772705;0.49956725791357986521;-0.15612966397763111681;-0.89752794984198336348;1.1306864116843502455;-0.056201712109474687151;0.67645992181041492142;0.0067898931851071561358;0.14294412504397682739;0.061173315505584698049;-0.21379509511261882149;-0.21560082815342421214;0.086443385566292302302;0.22263043636780924239;0.24403320128852346027;0.3543851726798108448;-0.28996545865788631025;0.50778093688156755725;-0.17732763902629819497;0.5678559178271969099;-0.069287791853537547548;-0.64650040506605854773;-0.12431983683746572478;-0.41836590431622816544;-0.057384438906643499279];
IW1_1 = [1.7523231911383507775 0.61850264184303493931 0.027048752445121306692 0.22476200673897994697 -0.30051892965270288194 1.6009956559445417401 -0.18757512256389560767;0.18183228313197896675 0.083197097884655152322 0.098097857003687213839 0.067389541173266689911 0.15331205142138923381 -0.11885604230482417487 -0.27002737027483858512;-1.1116703582824518648 -0.46990245197087404661 1.2609585639576648131 0.23399916487217473082 -0.3492702411417742403 0.30855388159046698293 -1.2993434481653696189;0.46689823620144449423 -0.40786146917934101852 0.17935885676015567158 -0.5863469340274916064 0.034881029297093663066 -0.32756525051469848053 -0.38280664119400581447;0.18497108862171071642 0.5583629328779545764 0.092366245195647470045 0.0073750886133858838817 -0.36720268532597982736 -0.31515902988297778142 0.13413829118868780821;-0.29580852111206845656 -0.10077647503620516811 -0.091051511251157971061 -0.048292125703612631682 -0.20394592884941531441 0.16670939172005691531 0.26774414372449595323;-0.46041371150619991859 0.14832630659581438892 -0.24571591482268587137 -0.046670998243438170661 -0.04630301584484509958 -0.71981346505140231251 -0.81991682208077432126;-0.56651416332754966909 -0.36601021601089306357 0.26631967546690143989 -0.45963380292803968086 0.19166860575066960171 -0.51918271656620196275 -0.28217197289206497057;0.1538097248817534568 0.0099981683163217465599 0.18262712965776059515 0.84641797585239564317 1.1479194013464475432 -0.23301404102214820502 0.39434564562274859734;-0.14571652475833252183 -1.3843701972627822094 0.49438220837491536619 -0.7330813377340942294 -0.56024931450911297226 0.59779103239113895452 -0.56569153830101703839;0.019355235674038000909 -0.0067253413098383209301 -0.066408442702719269746 -0.31862792110085802477 0.42275266872864653012 0.25126570457026747851 -0.29494579932824643853;-0.41934711337823288302 0.69339128570371855176 -1.4867925414761955505 0.065162793077525621444 -0.68742717080305426602 2.2028153026223087352 -0.028198662270868191798;-0.31476994801812036018 1.6584908303228613757 0.73981371710129328889 0.012654435476267844943 0.91822692946602613162 -0.59466913466957471712 -0.77958653253132514926;0.20362011321691803056 0.13168848742136798902 0.71306794412741592026 1.0157041893688383283 0.13670781071422191677 0.072729932480403700068 -0.62683532470434422113;0.35763689015030242224 0.35950706786812935967 0.10634377750205312174 -0.32965772352078492879 -0.17523829743267899106 -0.52570715444380500259 -0.25249328891151601173;0.57460630237784815488 -0.15735509846378087362 0.58730794121326268531 -0.20345403859697636095 0.24894270863471232302 0.98008381485918760756 0.49222143282312003087;0.841481078106430469 0.5135455630626768464 0.69926674739410132897 -0.06461756597488596543 -0.22423719090215671335 -0.5014442615266797576 2.0814692058093182681;0.16807324563118619665 0.086780999266558106475 0.10145096377123637155 0.079887596171746136364 0.14968518169110864302 -0.10903809747190038038 -0.27161402434078024681;0.31548289149834607414 -0.11455281103013141564 0.50075876924212214814 -0.15968961341494949946 0.31780037893296758655 0.21521314040270486667 -0.51858718033887951648;0.19841163162763833516 0.58872852970740774392 0.39817639023773931939 -0.11453838674519939422 0.48837330857164801268 -1.3455328585946648712 -0.021851588542597517179;-0.037041146059255077028 0.18742283074770629825 -0.073390519330930548136 0.1947277510509178855 -0.10272597199430481829 0.0080830895037217517091 0.71523679819262142576;-0.27612792819714332415 0.05491461208890419804 -0.62634717355512192771 -0.0050315859530981922598 0.3786947145164996642 -0.26868799331362502869 0.46845205175134480013;-0.40413862290882429651 -0.13468713331314857706 0.075559156433596966207 -0.79695632754507450546 -0.4354646329024492446 1.1948868154332465963 -0.25706714143619946444;0.24627189159258372486 0.48956181456376951511 -0.70790664221198862371 -0.56106226392234370692 -0.16624850904015509023 0.11038178367676873548 0.63958738639753520694;-0.95313897593614738124 0.70982895713547955463 -0.71905940711916160879 -0.19241322357317927616 -0.26463375130679678282 0.7929066825200123958 0.044835454480955577727;-0.38854096630511952837 -0.21303768539564651996 -0.079423048525849360146 0.14649880947029814138 -0.27578358589765922249 0.39183040582270156627 0.32088396316007034015;0.52746993477315817778 -0.37021477803274238649 0.53942469535000592273 0.96947308456391989573 0.66034778513114744669 -0.67239049704634912263 0.070524022916081605117;-0.030865126639026355809 0.13979025885109791494 0.013142238960118521676 -0.081660998207005064398 0.31966586383606399036 -0.1286195734776207078 -0.16198898924075283423;0.25773781973521053823 -0.21402457114309308972 -0.37998660619423568763 0.47108846473413329425 0.38203928781323936992 -0.32881661727402211604 -0.090965941567170041648;-0.013127416528597397882 0.086383391928272518223 0.017647675796011681737 0.031894604054433998985 0.20877757013961042998 -0.11457331128442559132 -0.26837658179588136376];

% Layer 2
b2 = [0.014341745056100217715;0.032013144453177974635;0.011660161924507856171;0.13678585250235339443;0.010661626942736623577;0.018422990968310268972;-0.040677211464280244035;0.099063412821821641985;-0.10390987500168653856;0.045789684722372887837;0.10084035536840270375;0.083862000129616434685;0.055426724357071764648;0.080066637682018534927;-0.13029464667549850443;0.061511091712870238912;0.10962711293798867163;-0.20371833120532187311;0.057343086549176761069;-0.037074293243095773898;0.45797005428928266868;0.044144407148428779775;-0.018385630486742066819;-0.073350406347672564289;-0.041807571828420306281;-0.02473132157777655632;0.55907497426320951206;-0.00298309513330505564;-0.034127827624649137439;-0.0065243642018215008624;0.02273765966520704257;-0.041805574335290085486;0.060563521422122283677;0.17999838876076518224;-0.016364228635712605581;-0.061542091405870844034;0.00035672283626565407357;-0.010536308292699990419;-0.011007954808991797513;-0.023176633587782664858];
LW2_1 = [-0.0021637383477273982105 0.0036961307302960082904 -0.033931186420042745711 -0.022978376630484742549 0.0069049652631988835821 -0.0045039478492948934255 -0.01571464258151334184 -0.017799644213447363833 0.013126277966642174722 0.020897825779422368742 -0.0010597214533857718648 -0.0054113422641011701616 -0.016830644779876988149 0.0095011909132481312673 -0.014251867939625214102 0.051559970692288785432 0.00018257812429363042732 0.0040735972794718969953 -0.01462860330679014581 -0.027997855691107742526 0.017460501115379233744 0.03948785230195837187 -0.046290531820359907822 -0.0060278747251188034492 0.0060266643541863956432 0.003841139017977198214 -0.002851046161951145512 0.0042633191682098494843 -0.018573324706174666049 -0.0019552765932942797397;-0.38853083446271996504 0.006483570419511695479 -0.27319015528926954284 0.34478879168802428756 0.15935204175745348865 -0.006198840678973205516 -0.75601452011338099446 -0.3247267813454299823 0.17721555822858628404 -0.32042382682338638178 -0.0081586502303841370448 -0.090856174484935769975 -0.67297613735689421066 0.57284620843623679232 0.14305430717427761178 -0.51125175615961260256 0.014706998284978166705 0.0034397439174349096064 -3.5721616280672712808e-05 0.7210728630761661373 0.19192550272978059489 -0.16054842812375322292 0.12929427235732335322 0.34767291809212441667 0.18251072545328678176 -0.044355412826158117923 0.21675570050280412726 0.017194268313593920328 0.18109735149651962072 -0.017265924021379528558;-0.0018020190681464157839 0.0026366928214407807894 -0.026740033874405249453 -0.01829089062251596301 0.0053499512533003289877 -0.0032373857277854124065 -0.012642165154809667169 -0.013981536952383815178 0.010322109670820421232 0.016835509421466599705 -0.001075196148205185805 -0.0042113548642471925268 -0.013760632793965138498 0.0073764349879016444592 -0.011772827899001348656 0.040559045222988754364 0.00053356818587051374828 0.0029462297118881207968 -0.011461380756188259758 -0.022215338541139599549 0.014365691876387047879 0.031594637095930210025 -0.036639530142649610889 -0.0049723565418047102962 0.0047893797151596960784 0.0034910281422298461429 -0.002118832774322086665 0.0031668944400669420472 -0.014683389745797031586 -0.0017660576688872215659;0.30237834802591107008 -0.029252862085344277787 0.062929702213642885189 0.23732365730035975826 -0.098623108530345227063 0.032816069999535880941 0.048979690530458398767 0.07296081676701686447 0.10382674661726778997 -0.18616676060082601452 0.087502943559970555731 0.26574788039119445759 0.20357687729702506063 -0.084678656927636389296 -0.055177714699520395703 -0.31853698552346343398 0.015783118762422502362 -0.029577718805226624332 0.20475190969259723928 0.26863646999950518968 0.069725544398327010676 -0.03524112110549465493 0.20095429248023347069 0.076101837018834606052 0.039313641876247439055 0.035276437576066480006 0.19296707708209109855 -0.013379287835620916336 0.20496300077706031129 0.0061042150580588134742;-0.0016606963235804915284 0.002311575012401097251 -0.024206189612909691233 -0.016611432208437124092 0.0048177635542256081955 -0.0028454282217867648414 -0.011513872436798439081 -0.012644004616576564465 0.0093398174222812969936 0.015348148008931847275 -0.0010385423055462115333 -0.0037926733665703538101 -0.012598081554940018106 0.0066465071089936399173 -0.010805421416832005493 0.036699109413629325827 0.00059367004929523903289 0.002595168267619380343 -0.010356256054338767308 -0.02015742298597411955 0.013170003161671306122 0.028726211322422683797 -0.033209451790473749899 -0.0045623807321675700563 0.0043539027522169109277 0.0032869833476024405867 -0.0018853228725262698075 0.002812464326715206301 -0.013306515001044079416 -0.0016606004612972839318;-0.0026677825972654177315 0.0060313710058979451076 -0.046090295270538664263 -0.030656894375161936744 0.0097204501915551487501 -0.0072563468681456121459 -0.020389350699404420325 -0.024333374919992285107 0.017955862035997832704 0.027262740602702815323 -0.00055996418361024076146 -0.0074248922706737037133 -0.02119600246701662874 0.013293162591877528619 -0.017398167693189251631 0.070405177800817245193 -0.0010586229833169492984 0.0065024481038340404063 -0.020100743260952971814 -0.03762740447615749162 0.021527085909494717009 0.051805768427983997504 -0.062259014424184959402 -0.0073913515193089604147 0.0082471210487144869239 0.0035293965306027329405 -0.0044174535561095577135 0.0064506546932955486848 -0.02512675198525993886 -0.0018479334960827824459;0.0071371249819637272438 -0.027980038765189625682 0.10284237174654489722 0.066057152977322342036 -0.029338836451908937436 0.032432575244869872588 0.03276116798087160692 0.052956283370411236233 -0.043417321231091897393 -0.054903749887479036396 -0.010775524763574807416 0.018322923487343267812 0.028462132136831817808 -0.033492233960699134554 0.012995383126309795196 -0.16912843229830518132 0.016004175938501230547 -0.028544866162072995985 0.049316029704363183173 0.081972137859374030744 -0.020955180086534574979 -0.091229612755832009685 0.13216501041403216909 0.0056989790908555304147 -0.028715106245036241955 0.015403732364159584273 0.024451553237720451833 -0.022702461114671352443 0.061546843170871827489 -0.0061147776117938968526;-0.042518564952061903284 0.06296963252897108676 -0.13976384267493952018 -0.081715392131895867034 0.056925488617507319367 -0.0735634911712281514 -0.005850193212946976952 -0.055887692465833228861 0.064884504123914374385 0.10492761960242599772 0.027429933640647944509 -0.046473882626673443386 -0.047225568345404776716 0.03672326702753434674 0.034230050299105675704 0.25859924137904277686 -0.033439513571704222727 0.0626909528670639149 -0.079617875699305465376 -0.12332663478175735772 -0.015646535444305643969 0.071984900463815004734 -0.18777392571997547632 0.0006323480930319609573 0.048713793269616355308 -0.065162989203400745186 -0.061594363916240818524 0.035769740396814776739 -0.097996717386069187583 0.019478571436021174107;-0.36114017343307258656 0.01898166839487867158 -0.074541772723059132599 -0.21493059627587504656 0.10021227725444452339 -0.023308659181370785379 -0.044246154587262463698 -0.013195467485046441167 -0.16121832959284057574 0.20650841024058280704 -0.11413048669292212567 -0.32311477123261389544 -0.24733481263123516247 0.01627769498486615965 0.012795741321929532744 0.28620336832518811221 0.027941999516422091204 0.019276228298609313777 -0.20087810854963558671 -0.19236543432217459437 -0.0054903819190384017118 0.1289153505322049309 -0.25040504166738158931 -0.10219754381776195717 -0.082174495817418174992 -0.016518346618997429426 -0.18755294536465952349 0.022099031302613245109 -0.21687251707376611898 -0.015234157460080751181;-0.0089923869024357110102 0.032041264162894961265 -0.10971996953149609766 -0.070546268095250011521 0.033070139751802257733 -0.03708045465608188207 -0.033019602188533787868 -0.055231749094820391244 0.046942680416913039332 0.059332409415940166875 0.013076046915961717088 -0.021141859520624237123 -0.028317136133686447025 0.035766551838563177823 -0.010227830685741097841 0.18318527914502516496 -0.018610659696455714163 0.032573423657168698586 -0.053667096178249593108 -0.087291455067813383817 0.019146920158040869886 0.094463128664746168206 -0.1410709205406893707 -0.0046871185775631861795 0.032851551916721365154 -0.019868330092509309259 -0.02925952921003887458 0.025358483432758864573 -0.067670230239266312977 0.0077476095084038033509;-0.10040855743812630851 0.084860077151022159092 -0.13430543093889377171 -0.081744838099072250626 0.058789288917090350151 -0.098542478958658683008 0.043177910689293524937 -0.054012610923531052809 0.080818447477706417681 0.13119524119112010996 0.03964784756295430812 -0.051091209161089716495 -0.076169632058863373514 0.03057250920914596215 0.10213237275217636191 0.29957387500488513732 -0.030017807646175537206 0.083469996093012463478 -0.10188555570736550215 -0.17073025382421477825 -0.093251542309045268309 -0.016883089920175831794 -0.1919695464672100671 0.0076826011610253430728 0.053739595052297285671 -0.11114918129203119057 -0.078802189750637935406 0.037356540524978242013 -0.093914337087507251955 0.034532089055036706282;0.79087130481304146468 -0.13651403897281505495 0.14960320253563874626 0.042292868132606603604 -0.2577232513331936814 0.12937097263690194859 -0.65111943992880960685 -0.10326090217255089188 0.00072534799723564702574 0.076948829549972702635 0.031075154188502786962 -0.36882652386234998643 -0.0041853891829258570503 -0.38135093406671388694 -0.23043828170180535864 0.32347269545172407934 0.019574334192979006564 -0.14212788457120448249 0.02113346742383975102 0.42284676527146203284 0.31919204922933952506 -0.013519019586299996574 0.20998988289525563622 0.0061389810721341874639 0.067915929577915534754 0.12718151500451271851 -0.0013172433537750240923 -0.085103951389977602893 0.10047558834587265453 -0.15318190618895319299;-0.013258833717960929674 0.038509413435024779371 -0.11920499042076823648 -0.076426350719614566387 0.039120956740988525879 -0.044536310091288625057 -0.031947347011490649649 -0.05722659266086813773 0.051981136700930179184 0.067223195256334994374 0.016555019586997805209 -0.026585476331042190434 -0.028664910121677374816 0.038317089329627289362 -0.0047091649685278777482 0.2037105657394747138 -0.022654738371930556451 0.038958326835212192529 -0.060215447344109405969 -0.09489553194672037395 0.015602876267406189104 0.097588889785224314233 -0.15424350033903932999 -0.0031795914060543935091 0.038954448177017965416 -0.0275313052702095655 -0.03713985923045389631 0.029147291055280955679 -0.077098441200048634103 0.0102243440769063023;-0.13007274003104954407 0.09280490083683631819 -0.12308492112531076168 -0.087380698215186985989 0.057069666002336663646 -0.10612503161800831974 0.06284300231822642635 -0.059045355712416390526 0.088268068714014311094 0.14068832402705225282 0.041925160241020657803 -0.047095455810244928052 -0.087976345013092788205 0.037811075156913787065 0.13496643302473745885 0.31567194140274718039 -0.034477253198413521096 0.09107140345788655722 -0.11421570828954151489 -0.20453472819837625885 -0.13712904135635375913 -0.068866607963236223244 -0.18804576993378036009 0.0091852274699141776837 0.059568330975284397577 -0.12761474782913811987 -0.083091076672141758741 0.036021625694636467963 -0.088646358144938014467 0.042145253040321351001;-0.32481887146906690544 0.026472524241802391359 -0.069492773177535563378 -0.22727026559273336148 0.096348294691265948253 -0.030573134259752998698 -0.052214617107382767236 -0.052589240485094994326 -0.12579339171168038569 0.19229621163657023564 -0.098383872372016845098 -0.28905896949361803427 -0.22159438185291979728 0.062071738140832437292 0.035003010400613404629 0.30908259883022953796 -0.0018379287132211491983 0.026786634633217676349 -0.20123341021033652742 -0.24249674250183544943 -0.045133304181798263033 0.073344664848259591428 -0.22261830080368250062 -0.090854832009832714457 -0.066594595346057605667 -0.027359562867269638514 -0.1862872388480341368 0.016919546086048675715 -0.20509084534615129591 -0.0089812231835975919747;-0.016361815242387802577 0.042077143360647370485 -0.12364866609236842276 -0.078851772942618011952 0.042404737716761987942 -0.048687235361369304854 -0.030369906900121864529 -0.057580746744641225776 0.054421943211019022102 0.072128209672933804586 0.018325463247630149194 -0.02994108172989450381 -0.0295022650182214137 0.039122792805363307278 -0.00094319959145682018622 0.21388985670355661894 -0.024819841595960474151 0.042461315380898596861 -0.063573162380198389165 -0.098796369972356537503 0.013125464547673042215 0.097905967834030063757 -0.16092099596832576403 -0.0024884352440175893338 0.041814676556011072528 -0.032110562261969788356 -0.041393835770793432904 0.030900920116929193882 -0.081885202850631513827 0.011523869825546142684;-0.069196395411753486293 0.075682588708990944371 -0.14124455325788939919 -0.079710083006784518411 0.059901060918580301129 -0.08860334027440001925 0.019949812493957531923 -0.054473381264270127888 0.072127693366459133539 0.12180468075773751013 0.034247932937691433208 -0.051069573992181115096 -0.064001294592986951448 0.031543134979972284326 0.068806300776929091301 0.28130911039733219603 -0.031872069722619980614 0.074783520482972085097 -0.090278018033475113113 -0.14511048321214442547 -0.052085052367568537846 0.030284748314709942357 -0.19330206881571929123 0.0045161987605316731426 0.049772199524552585004 -0.090784031772863496568 -0.071699167546958708641 0.036784714204029483886 -0.097860178412703252571 0.026782535734441746678;-0.16262713158182684481 -0.31677604171824003121 0.30350314023919355844 0.21921092893913710076 -0.41084229679191763829 0.32050656997062038078 0.18129290860098204452 -0.054043936268443545923 0.024336940241281596747 -0.14937181215925701694 0.18617933492401864126 -0.42323844338828980893 -0.26685284137773257473 0.10432757238445089509 -0.32680212640899386489 -0.31511708477489608349 0.84741614145910526545 -0.32111690530096487217 0.20736966712974366778 0.145225324600097766 0.3826150239181718149 -0.30214241687963516725 -0.048429388244555629517 0.53438826569359620944 0.77882016235380957525 0.32861712489724020925 0.55286464432232607091 -0.21607971241127188478 -0.10738987531897362104 -0.26826540218078548383;-0.14894568309670128126 0.10006083168619664403 -0.11782956977483376171 -0.091441783451626151846 0.056881885579233820716 -0.11304995277017887423 0.073691835996212387561 -0.070821468464234899054 0.089044882801192895561 0.15453131361354879858 0.040335151595154036808 -0.048088114324831648938 -0.10239009428152248682 0.049679124996785610502 0.16233538062036867444 0.3284830009495378067 -0.042638635894713589058 0.098091790128972747298 -0.12498455855331824793 -0.24005435294096369447 -0.17400287133321556965 -0.11067608093433907446 -0.18943759998810458245 0.011200871456316313993 0.060281865956371687154 -0.14035336351064689464 -0.082944711658798062071 0.033348182699414398444 -0.084218444072480622142 0.048173441676406143774;0.0060274895253073831197 -0.024765220534309434486 0.096887319745307537433 0.062162041162054038068 -0.026458587850604356473 0.028763353709807044922 0.032175642713197186162 0.050578245855606572545 -0.040449364785618655005 -0.051554699345629298457 -0.0089308444182025839564 0.016431773936419917514 0.02855816549298816065 -0.031373740887638425223 0.014878803194871540252 -0.15743815541119390855 0.013893954667940522363 -0.025346810398419131888 0.045760008192923327941 0.077376603269517021944 -0.022215795331134241541 -0.088121791567675508694 0.12472926072133622144 0.0064687470582877985847 -0.025422334157870027371 0.012025586912119658883 0.020831714436073685282 -0.020509482545389715047 0.056686989645320685904 -0.0047950036466226858903;0.075804603956931046471 -0.12116636852559380111 0.20466660500610620033 -0.062739459911344566678 -0.27315911582814961234 0.18700008590346467452 -0.82374673848256574349 -1.0409740432686149791 -1.240286486410193012 -1.1236406595060788316 0.53731266114154796476 -0.60352478202439119315 -0.80846600029833681766 0.6759267627814450341 -0.29977210933326187137 0.27319347971651675167 -0.99689355569210558183 -0.10546664209649170285 -0.18307041811715510371 -0.25949061345551810431 0.15785403612549853136 -0.24492522269209265895 -0.55594824774223827735 0.45724996240458509744 1.0537486128713038358 0.22938861394674239791 -0.45561066322588789079 0.13500391479406442796 0.2016479796137423397 0.12330562452470197887;-0.0083606258925379567382 0.030792251843504821196 -0.10768007837795871839 -0.069222528051527967841 0.031912972104261881634 -0.035648964772477365059 -0.033005028519376179708 -0.054618565190746252991 0.04588623649437999219 0.057936878867899214984 0.012374782083189749329 -0.020222033348910695844 -0.028350787070127080047 0.035118446793586305388 -0.011129044812250344504 0.17895009384373541939 -0.017815305914693328054 0.031335941246313961384 -0.052346351636022948883 -0.085707917514354067801 0.019730580975714572672 0.093557626796613210796 -0.13838481995197546293 -0.0049984188768408821524 0.031591088782843994298 -0.018470019896459008435 -0.027759129375717433302 0.0245588787089029148 -0.065793459584502084203 0.0072508847534792017497;0.0026633636784229967887 -0.0060051082300081326526 0.045972378878021281923 0.030583739499055399846 -0.0096918187998004511757 0.0072256189328581453893 0.020347429932266316438 0.024269576543877211666 -0.017908393141241325808 -0.027203700072701137574 0.00056790765776016847131 0.0074055658564872416105 0.021158770843905227305 -0.01325509255876708252 0.017374434493719278366 -0.070220468005789890564 0.0010426610135379449189 -0.0064754216010242341556 0.020046888491972243013 0.037534650312438348763 -0.021495181062442584446 -0.05169320055528779656 0.062106521674733315697 0.0073809138923757082809 -0.0082240787455904393322 -0.0035383620511014045491 0.0043996941113488494124 -0.0064273832708449706377 0.02506303167795945544 0.0018517527053054320257;0.13665577341588847071 -0.094984558638667004882 0.1207322902825626737 0.088806778114233000943 -0.05690845836326973578 0.10817345699002449411 -0.066953473409794031501 0.061922271551239201071 -0.089308337701827875121 -0.14415940519402944964 -0.041761798590791147923 0.046447635615516749685 0.091930079946003037672 -0.041021292378455413707 -0.14370075206053523065 -0.31980171078090757764 0.036675476721947070091 -0.09317311729815538901 0.11754838320050504941 0.21498686938050229345 0.14877820878153985573 0.082589094919590613775 0.18769301166735394282 -0.0096777619033779401642 -0.060390905090544073908 0.13167871066903275024 0.083452606695238962242 -0.03529224023846484759 0.087175885263437086214 -0.044060910398259496568;0.0075192668039502415928 -0.02892535683401188315 0.10450657189788249701 0.067148247665235624715 -0.030198860476216053683 0.033512891932085744906 0.032873636052110841166 0.053558692320726158931 -0.044260953958609100534 -0.055908853161450514091 -0.011315580399390602617 0.018934622685198042313 0.028422887529628522441 -0.034063682216899753008 0.012391886961961870797 -0.17247309720734019245 0.016616393905892506977 -0.029483810688555291829 0.050343186782302769278 0.083255665286898247746 -0.020556568664862530371 -0.092054637601955910386 0.13428329312122577743 0.0054646779489575005029 -0.029685263226830207323 0.016422340305437599373 0.025550707588511280266 -0.023334206291615932488 0.062976171069918304712 -0.0064990881645747922493;0.0034550511839889974305 -0.01174957180529303917 0.066470321384734062931 0.043109853792230916347 -0.015204606758758022408 0.013883354455754016651 0.026539975004158163768 0.035392093675375269068 -0.026447919096986433063 -0.03696671261812880388 -0.0018160374088965493787 0.010591219714183145589 0.026173584088670862058 -0.020217099760272513875 0.019340221815473325473 -0.1032209808008430485 0.0049139828866808883331 -0.012316179189077130704 0.029694508749090998967 0.053620404342586309998 -0.024713097170284675091 -0.069030758543242670688 0.087886335384380454006 0.0083177813276778291007 -0.013101211826050005935 -7.1343616579979616523e-05 0.0085579016755485196044 -0.011113396783104216234 0.036443441334299268852 0.00032958584215782646279;-1.4804727494771638963 -0.12399260156965323521 -1.1319079684328667845 0.33195522061542498404 0.13863157842182163848 0.06857916478834841234 -0.26720564349646352964 -0.79321224419646341186 -0.1820722333132955284 0.95181010358565421026 0.042736891023830263225 -0.91017711689144042975 0.2525994112470415498 0.66820376548670357142 0.072781775917386465347 0.37506491072657582864 -0.76898335447520382857 -0.13042966170797659631 0.58407921938987672483 -0.40840202517994117493 0.20864222546999891539 -0.10370304088499812667 0.5874039723558840409 0.21192768227802255554 0.79109773906166691582 0.078367964476622822834 0.50724498045077093256 -0.30857520853994152565 -0.10054412308055479808 -0.23618725242723551117;0.00048209764138218945406 -0.00053097639874617090852 0.0064654557041483561031 0.0045049162425236620455 -0.0012568241395973327439 0.00066193250721354476938 0.0031543066779951209333 0.0033626494044570656022 -0.0024930128717303942122 -0.0042361903528855670426 0.00035184504016759759071 0.00098215593004442663591 0.0035369044801359297153 -0.0017389926674973897949 0.0030573672702515746619 -0.0097885432806016081653 -0.00029288341935506230712 -0.00061072781872265394492 0.0027426959304727772417 0.0054481769593087000722 -0.0037083033349630950548 -0.007809493961874801847 0.0089152606978375719543 0.0012899923165285358088 -0.0011957688699239092146 -0.0010239717359709940396 0.00046887117941231154939 -0.00068581538935409160334 0.0035731413944266642371 0.00051532172161204226404;0.0052449622847746306745 -0.021896107516004296306 0.091160629907273915684 0.058458555573369916369 -0.023943991273454454799 0.025491457889329511427 0.031412294205010397874 0.04802582687998011024 -0.037669314208779239306 -0.048593162649550200594 -0.0072890891201561475166 0.01496397834607306708 0.028523066028784838793 -0.029271203747855335797 0.016346093089023332884 -0.14657715180909713926 0.011970775526532485486 -0.022486550889725915453 0.042496256693418402173 0.072939159888110435825 -0.023206025138664067992 -0.084949414253139080011 0.11772997509915950065 0.0070950918620289564476 -0.022532402013685469411 0.0091195661478103550585 0.017779962760215095585 -0.018507697280634959752 0.052354185080643933503 -0.003611336629767866041;0.0010421561182760562952 -0.0012370789944487689538 0.014350147813173699113 0.00995023971411383365 -0.0028103640932628849193 0.0015357525372656391331 0.0069478019309779743759 0.0074732383212415733759 -0.0055332219643470402157 -0.0093046574578119333604 0.00073061052332597470425 0.0022037987300914654507 0.0077299585961748623966 -0.0038844340664878213021 0.0066692103387028800476 -0.021733055578729607027 -0.00055613808197551943806 -0.0014113614140076069254 0.0061039597354171923685 0.012044891913994396071 -0.008101221426831374528 -0.017243394288931606501 0.019758224758255577697 0.002814409389953264045 -0.0026271705371552476517 -0.0021735594777064159121 0.0010630256482123505435 -0.0015677554061386727094 0.0079169210801214758011 0.0010948769956516605627;-0.0031882862950773751057 0.0096992641894381205481 -0.060077244656851519489 -0.039226019410990090042 0.013355565706562971123 -0.011519135977937302109 -0.024839835534146169349 -0.031929706806513323547 0.023719662851274123105 0.034001411954266647086 0.00085609963262322380257 -0.0096216877543347494733 -0.024919347198821422545 0.017973840111034797284 -0.019187521162069766378 0.092708655026562614143 -0.0034824742445105825138 0.010243857982811983148 -0.026616199879276464246 -0.048605825579881793697 0.024199375023073437657 0.06409333807880197853 -0.079995561862918979079 -0.0082178024046951816256 0.011357005839244784656 0.0015661984317484811333 -0.0069967161760499958084 0.0095144287638529584372 -0.032798813351325499521 -0.00098794454870623446031;0.0075188617728689042391 -0.02892378153597183893 0.10450379334335184456 0.067146299502851766738 -0.030197328981786179108 0.033511063602581867005 0.032873349502360121877 0.053557677670665285175 -0.044259402863082823731 -0.05590729240981155701 -0.011314641560483755175 0.018933874136930182314 0.02842296678438501617 -0.034062811398194434154 0.012392994027427193388 -0.17246729116601125509 0.016615322777952822031 -0.029482225685503300749 0.050341396271516854199 0.083253513106566479074 -0.020557252340061536039 -0.092053238902218795237 0.1342797532493298085 0.0054651412845878235419 -0.029683635979057359372 0.016420624483826841422 0.025548831025017971347 -0.023333060656021264306 0.062973673093271384515 -0.0064984713370313798228;-0.16803091261651434407 0.082358266383439321379 0.00037015952115923350316 -0.1987698883057775201 0.12001230697800634173 -0.094480001814028435891 0.070802296559519778407 -0.13379955418638000975 -0.030857420211625657958 0.22241203240525347917 -0.025190485030220189505 -0.11616414226021418155 -0.11280503414343874546 0.18117772820549490898 0.15758196360725715279 0.33835282268315869381 -0.13375214056341599989 0.081843384652129133605 -0.15605977149292440953 -0.29360002909545290795 -0.14616686034041967424 -0.1533550278102029929 -0.16587505343553063386 -0.030405426973527216461 0.12027459644194020416 -0.11452619519423400118 -0.19102858497889960154 -0.0044133823284527931574 -0.1794238571794058712 0.018592827881218580016;0.0092548116144748442113 -0.056012559996796378037 -0.062768818171549500828 -0.14216557309166166778 0.16592866112815221613 0.032610551395642284334 0.13279824165248454992 -0.098095297590600635806 -0.10056566388407782442 0.085125380507429182497 -0.19279421638995050681 0.080778922775285810776 -0.17193137293158625156 0.077302959224752873513 0.1035592928983875699 0.32733000530456779487 -0.40868118552106119656 -0.060667855924889602104 -0.30710941042186939987 -0.29938566572545644018 0.107575868774509531 -0.019527539730715175875 -0.15446503921431700701 0.034030201763905157386 -0.0073180228488255710112 0.0076295381155392551914 -0.28264904022078657375 -0.1033663530911366063 -0.21612120272050708292 -0.11966973709976140572;0.002419386209874476671 -0.0047259397108189524911 0.03977305274582013106 0.026703002556794069172 -0.0082247624097626041012 0.0057230313796811423804 0.018049054617293839448 0.020926956598716295321 -0.015429632958004967438 -0.024029209930780743437 0.00089961272226922559415 0.0063867080994361308255 0.019060034706900888524 -0.011290658671956868911 0.015939222299846591419 -0.060566759126940393487 0.00031042475023682102649 -0.005151817615937831496 0.017238152508750010511 0.032642191922670767135 -0.019609452323900877779 -0.045583462918470131486 0.054022989525478987138 0.0067535507549661673646 -0.0070600693412534104923 -0.0038437743781812049905 0.0035425248798838619713 -0.0052600008257770568959 0.021720882392406631878 0.0019750078485477819308;0.016377051604244186045 -0.042094545805314097231 0.12366903415023575152 0.078862540797926899971 -0.042420861369796412921 0.048707624833610733972 0.030360817997108373312 0.057581695202427909952 -0.054433555317939752438 -0.072152676161525833298 -0.018333875453091778851 0.029956881042670975568 0.029507863936419451156 -0.03912551050749961401 0.00092319806897485996895 -0.21393839896782113064 0.0248303127423911002 -0.042478407083678025591 0.063589433385108029562 0.098815316224661289835 -0.013112220710141214014 -0.097904860075785721252 0.16095227789594326873 0.0024849515013438479467 -0.041827538627745478039 0.03213361680703336748 0.041414659147641218195 -0.030908993476949093993 0.081907973718918794526 -0.01153003360108630429;-5.7829184891535409248e-05 6.2463920283108888688e-05 -0.00077019889683203868712 -0.00053733012462953632597 0.00014943225720076574623 -7.7956753586132986273e-05 -0.00037646302018570022884 -0.00040044396790033860061 0.00029700190873225141945 0.0005060049526666884857 -4.2584107631048541442e-05 -0.00011662417588187858725 -0.00042299806348803205627 0.0002068166119403658861 -0.00036577560580027966477 0.0011659871977089527814 3.6181488345941956869e-05 7.2002786644931492045e-05 -0.0003264924736383310877 -0.00064969940333571151066 0.00044348753882657857483 0.00093147512448042159815 -0.0010624128878183774008 -0.00015433549636605732504 0.00014285470248721370196 0.0001233151801543492642 -5.5556411762516384983e-05 8.1075803344810059084e-05 -0.00042584062030892496893 -6.2048656011473997092e-05;0.0016426958609785811873 -0.002272968852396300022 0.023893276867632921856 0.016403012446969282567 -0.0047525478169382733007 0.0027987579506445741523 0.011373126850901020546 0.012479092179123688761 -0.0092186066837715591876 -0.015162458595653930879 0.0010326956505584225943 0.0037413439278498428035 0.012451745806179749868 -0.0065570205906188977485 0.010682984909148389788 -0.036222852624641227459 -0.00059895620209955333611 -0.0025532829222731537148 0.010220158416682263366 0.019902455499850771337 -0.013019000936252510606 -0.02836935093628989088 0.032784957218026225534 0.0045104935606883776386 -0.0042999411670944336084 -0.0032592074117804722098 0.0018572473654820621704 -0.0027697363717434195403 0.013136238516524501724 0.0016463195449725916142;0.0017100996346070872298 -0.0024207211126377079988 0.02507701764270624592 0.017190240684626434398 -0.0049998214433912020055 0.0029772099065253033665 0.011904087654495890472 0.013103257528173872792 -0.0096771447902977095895 -0.015862573582216949603 0.0010534044409263990973 0.0039362172591386260234 0.013002139961097006898 -0.0068963445215058372106 0.011142975176737596188 -0.038024916211449683034 -0.00057656795909776165695 -0.0027133401776461177173 0.010735461916255604337 0.020865950457938296086 -0.013586622585038345482 -0.029716612774978331396 0.034389837710590620556 0.0047053416009246885193 -0.0045037697920372547072 -0.0033614586501206377735 0.0019643430983247158958 -0.0029325027314767789129 0.013780122841178516283 0.0016989458287364558615;0.0032447508588206112196 -0.010135989678699710778 0.061503193664413043085 0.040092299935691320945 -0.013756441388098950007 0.012023598015715328269 0.025236660593298137351 0.032703990603255087 -0.024322638188942750925 -0.034666528229143081519 -0.0010532140248308793397 0.0098386337540173323529 0.025222965604535151074 -0.01846899892851328398 0.019257174816958544383 -0.095033474342712892513 0.0037852718988738917605 -0.010686094639901772343 0.027296599441597842878 0.049724100836796986114 -0.024351091783400859864 -0.065230087648480178375 0.081766258197841737432 0.0082552947199982448789 -0.011725515498129295347 -0.0012652622405068577726 0.0073212950806236373399 -0.009860178552229547505 0.033601417688947178564 0.00085525639269757019328];

% Layer 3
b3 = [-0.28402411938453853146;-0.074234769684011020496;0.12334708466896279755];
LW3_2 = [-0.1027312401676505893 1.3521693686630631426 -0.081225699239822132802 0.71791823458988401896 -0.073608690216214064939 -0.13878413755713836508 0.31460279874942814748 -0.4772697910715961167 -0.73897190814730751018 -0.33910133285394161717 -0.53409765372047979248 0.96634051777291851693 -0.37554374945321761237 -0.55322636551440695918 -0.72671787477279747858 -0.39409825528369946124 -0.51207288845975529323 1.2209492729087276786 -0.57471688188100089612 0.29434038773668114164 1.672993733637591518 -0.33169426388101669323 0.13843576504796709092 0.55915312255508420325 0.32041231842992456968 0.19916086969674970386 1.9981460606206460362 0.019763035244116121392 0.27551410784126667552 0.043791001259813069901 -0.18012699074987981174 0.32040242897599258143 -0.66270680486721400548 -0.86365166365858148101 0.1200916486390783966 0.39418672541094534889 -0.0023553024406855450033 0.072666582590212566717 0.076228842028939314268 0.18435933867294859723;0.0013522954514137135867 0.026427855280940402982 0.001046638940170040253 -0.0085137982956366552861 0.00094138159634472200806 0.0018826474774437855584 -0.0037106424192147532959 0.0008638054338988161154 0.011698211064861199771 0.0037089653076434734615 -0.0013986678349806990884 0.0058875313431851180115 0.0034878526114197122218 -0.0017703485519445717918 0.010977859355184952164 0.0032511902789255750675 -0.00063089364224894564116 0.021033489501846448777 -0.0016146115116990131938 -0.0036416535567911456454 -0.018731088851783241067 0.0037204230602498264413 -0.0018774827339602549649 0.0017769679928041931961 -0.0037193311422122335083 -0.0027383032698782721649 -0.037108932238223299449 -0.00024307357656970623983 -0.0035302542452271571879 -0.00054570132846460653233 0.0024811803563200133561 -0.003719318389591801631 -0.01446841475804573271 -0.030709838761187338574 -0.0016061391744135052571 -0.0032498474072135000515 2.8866347270421445292e-05 -0.00092848926911705514497 -0.00097739895012492728453 -0.0025397392974481946062;0.024648808603705173875 0.17682021366759972936 0.020100935557813285476 0.10056555914115672401 0.018370474539904049771 0.030766144223420756332 -0.026418972717443450771 -0.074774166870457653422 0.069001814724556770342 0.021981285147532649005 -0.25312405933618165044 0.18857478436312244408 0.01234149303446589914 -0.34509487838793284631 -0.038515563965658458634 0.005141589228049085053 -0.16224144685011188116 0.24459279551295373678 -0.41606835912075829098 -0.029321888601283232351 0.34378721500986775261 0.023452391227427826087 -0.030717637090260922761 0.36841763097617347134 -0.025470746526071497834 -0.035389837957623834774 0.42931783884329777212 -0.0050903640855137861562 -0.03152889751035511251 -0.011179868196392581808 0.034747092042416390101 -0.025472337145327293012 -0.38359232729603509604 -0.098056616146905667408 -0.027865324597905128529 -0.0051028711471184642554 0.00060788848954031627497 -0.018153070171685194156 -0.018971817103043110697 -0.03495434696562393917];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0113174198636915;84.0253839004256;2.49692908933625];
y1_step1.xoffset = [-93.80045782;0.009251553;0.9112561];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = repmat(b3,1,Q) + LW3_2*a2;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a3,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(3,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end


% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end


end